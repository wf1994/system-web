# 1、获取数据源列表

**简要描述：**

- 获取数据源列表

**请求 URL：**

- `localhost:8080/api/getDataList`

**请求方式：**

- GET

**返回示例**

```
  {
    data:[
    {
      id:1,
      dataSourceName: "金仓数据源1",
      dataBaseType: "金仓",
      note: "备注1",
      createTime: "2020-06-06 12:12:12"
    },
    {
      id:2,
      dataSourceName: "excel数据源1",
      dataBaseType: "excel",
      note: "备注2",
      createTime: "2020-06-06 12:12:12"
    },
  ],
  meta:{
    status: 200,
    msg: "获取数据源列表成功！"
  }
  }
```

# 2、通过数据源名称查询列表

**简要描述：**

- 通过数据源名称查询列表

**请求 URL：**

- `localhost:8080/api/getDataByDataSourceName`

**请求方式：**

- GET

**参数：**

| 参数名          | 必选 | 类型   | 说明       |
| :------------- | :--- | :----- | ---------- |
| dataSourceName | 是   | string | 数据源名称 |

**返回示例**

```
  {
    data:[
      {
        id:1,
        dataSourceName: "金仓数据源1",
        dataBaseType: "金仓",
        note: "备注1",
        createTime: "2020-06-06 12:12:12"
      }
    ],
    meta:{
      status: 200,
      msg: "获取数据源列表成功！"
    }
  }
```

# 3、新增金仓数据源

**简要描述：**

- 新增数据源

**请求 URL：**

- `localhost:8080/api/saveDataSource`

**请求方式：**

- POST

**参数：**

| 参数名       | 必选 | 类型   | 说明          |
| :----------- | :--- | :----- | ----------|
| ip           | 是   | string | ip 地址    |
| port         | 是   | number | 端口号     |
| username     | 是   | string | 用户名     |
| password     | 是   | string | 密码       |
| databasetype | 是   | string | 数据库类型,excel或者kingBase   |
| databasename | 是   | string | 数据库名称  |
| note         | 是   | string | 备注       |
| create_time  | 是   | string | 创建时间    |

**返回示例**

```
  {
    meta:{
    status: 200,
    msg: "保存数据源设置成功！"
  }
  }
```

# 4、新增excel数据源(upload上传)

**简要描述：**

- 新增数据源

**请求 URL：**

- `localhost:8080/api/saveDataSourceExcel`

**请求方式：**

- POST

**参数：**

| 参数名       | 必选 | 类型   | 说明       |
| :----------- | :--- | :----- | -------- |
| dataSourceType | 是   | string | 数据源类型,excel或者kingBase |
| dataSourceName | 是   | string | 数据源名称 | 
| dataBaseName        | 是   | string | 文件路径 |     
| note         | 是   | string | 备注      |
| create_time  | 是   | string | 创建时间   |

**返回示例**

```
  {
    meta:{
    status: 200,
    msg: "保存数据源设置成功！"
  }
  }
```

# 5、删除数据源

**简要描述：**

- 按 ID 删除数据源，该数据源下的数据集和纬度向量也要同时删除

**请求 URL：**

- `localhost:8080/api/removeDataSource`

**请求方式：**

- POST

**参数：**

| 参数名 | 必选 | 类型  | 说明           |
| :----- | :--- | :---- | -------------- |
| ids    | 是   | array | 数据集 ID 数组 |

**请求参数示例**

```
  {
    ids:[1,2,3]
  }
```

**返回示例**

```
  {
    meta:{
    status: 200,
    msg: "删除数据集成功！"
  }
  }
```

# 6、修改金仓数据源

**简要描述：**

- 修改金仓数据源

**请求 URL：**

- `localhost:8080/api/editDataSource`

**请求方式：**

- POST

**参数：**

| 参数名       | 必选 | 类型   | 说明          |
| :----------- | :--- | :----- | ----------|
| id           | 是   | number | 数据源id   |
| ip           | 是   | string | ip 地址    |
| port         | 是   | number | 端口号     |
| username     | 是   | string | 用户名     |
| password     | 是   | string | 密码       |
| databasetype | 是   | string | 数据库类型,excel或者kingBase   |
| databasename | 是   | string | 数据库名称  |
| note         | 是   | string | 备注       |


**返回示例**

```
  {
    meta:{
    status: 200,
    msg: "修改数据源设置成功！"
  }
  }
```

# 7、修改excel数据源

**简要描述：**

- 修改excel数据源

**请求 URL：**

- `localhost:8080/api/editDataSourceExcel`

**请求方式：**

- POST

**参数：**

| 参数名       | 必选 | 类型   | 说明          |
| :----------- | :--- | :----- | ----------|
| id           | 是   | number | 数据源id   |
| databasetype | 是   | string | 数据库类型,excel或者kingBase   |
| databasename | 是   | string | 数据库名称  |
| note         | 是   | string | 备注       |


**返回示例**

```
  {
    meta:{
    status: 200,
    msg: "修改数据源设置成功！"
  }
  }
```

# 8、通过id获取数据源

**简要描述：**

- 通过id获取数据源

**请求 URL：**

- `localhost:8080/api/getDataSourceById`

**请求方式：**

- GET

**参数：**

| 参数名       | 必选 | 类型   | 说明          |
| :----------- | :--- | :----- | ----------|
| id           | 是   | number | 数据源id   |


**返回示例**

```
  {
    data:[
      <!-- 数据源类型为金仓时 -->
      {
        id:1,
        ip: "ip地址",
        port: 21,
        userName: "username"
        password: "password"
        dataBaseType: "金仓",
        dataSourceName: "金仓数据源1",
      },

      <!-- 数据源类型为excel时 -->
      {
        id:1,
        dataSourceName: "excel数据源1",
        dataBaseType: "excel",
        note: "备注1",
      },
    ],
    meta:{
      status: 200,
      msg: "获取数据源成功！"
    }
  }
```

